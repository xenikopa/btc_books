(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/books.e10635ff.jpg"},31:function(e,t,n){e.exports=n(54)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),l=(n(36),n(1)),c=n(2),u=n(4),s=n(3),m=n(5),h=(n(37),n(38),n(14),n(6)),f=(n(24),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={selected:n.props.selected},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClickFilter",value:function(e){this.setState({selected:e}),this.props.onChangeSection(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,[{id:"SHOW_ALL",title:"All Books"},{id:"RECENT",title:"Most Recent"},{id:"POPULAR",title:"Most Popular"},{id:"FREE",title:"Free Books"}].map(function(t){return r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement("input",{type:"radio",id:t.id,value:t.id,name:"book-filter",checked:t.id===e.state.selected,onChange:function(){return e.onClickFilter(t.id)}}),r.a.createElement("label",{htmlFor:t.id},t.title))}))}}]),t}(a.Component)),p=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onInputValue",value:function(e){this.props.onChangeValue(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"filter__search"},r.a.createElement("span",{className:"fa fa-search"}),r.a.createElement("input",{type:"search",onInput:function(t){return e.onInputValue(t)},placeholder:"Enter Keywords"}))}}]),t}(a.Component),d=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={section:n.props.getInitFilter(),input:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChangeSearchValue",value:function(e){this.setState({input:e}),this.publishFilter(this.state.section,e)}},{key:"onChangeSelectedSection",value:function(e){this.setState({section:e}),this.publishFilter(e,this.state.input)}},{key:"publishFilter",value:function(e,t){var n={section:e,input:t};this.props.dispatch(function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}}(n))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"filter__container"},r.a.createElement(f,{selected:this.state.section,onChangeSection:function(t){return e.onChangeSelectedSection(t)}}),r.a.createElement(p,{onChangeValue:function(t){return e.onChangeSearchValue(t.target.value)}}))}}]),t}(a.Component),b=Object(h.b)(function(e){var t=e.booksApp;return{getInitFilter:function(){return t.filter.section}}})(d),E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Browse Avalible Books"),r.a.createElement(b,null))}}]),t}(a.Component),O=n(30),v=n.n(O),y=n(13),k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getRandomKey",value:function(e){return 10*Math.random(e)}},{key:"render",value:function(){var e=this,t=this.props.rating,n=Array.from(Array(t),function(t,n){return r.a.createElement("span",{key:e.getRandomKey(n),className:"fa fa-star"})}),a=5===t?[]:Array.from(Array(5-t),function(t,n){return r.a.createElement("span",{key:e.getRandomKey(n),className:"fa fa-star-o"})});return r.a.createElement("div",null,[].concat(Object(y.a)(n),Object(y.a)(a)))}}]),t}(r.a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.info,t=e.title,n=e.author;return r.a.createElement("div",{className:"books__item-info"},r.a.createElement("span",{className:"books__item-title"},t),r.a.createElement("span",{className:"books__item-author"}," by ",n))}}]),t}(r.a.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.books;return t.length>0?r.a.createElement("div",{className:"books__block"},t.map(function(t){return r.a.createElement("div",{key:t.id,className:"books__item",onClick:function(){return e.props.onBookClick(t)}},r.a.createElement("img",{src:v.a,alt:t.title}),r.a.createElement(j,{info:t}),r.a.createElement(k,{rating:t.rating}))})):r.a.createElement("h3",null," Empty Result")}}]),t}(r.a.Component),C=function(e){return{type:"OPEN_MODAL",form:e}},N=function(e,t){var n=_(e,t.section);return w(n,t.input)},_=function(e,t){switch(t){case"SHOW_ALL":return e;case"POPULAR":return e.filter(function(e){return e.popular});case"FREE":return e.filter(function(e){return 0===e.price});case"RECENT":return e.filter(function(e){return new Date(e.date).getFullYear()===(new Date).getFullYear()});default:return e}},w=function(e,t){return t.length>0?e.filter(function(e){return e.title.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)}):e},S=Object(h.b)(function(e){var t=e.booksApp;return{books:N(t.books,t.filter)}},function(e){return{onBookClick:function(t){e(C(t))}}})(g),I=n(7),A=n(11),T=n.n(A),D=(n(27),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=t.menuClass;return r.a.createElement("menu",{className:a},n.map(function(t,n){return r.a.createElement("li",{className:e.props.selected===t.title?"is-active":"",onClick:function(){return e.props.onChange(t.title)},key:n},r.a.createElement("i",{className:"fa ".concat(t.icon),"aria-hidden":"true"}),t.title)}))}}]),t}(a.Component)),F=(n(28),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChangeTitle",value:function(e){var t=Object(I.a)({},this.props,{title:e});this.props.onChangeValues(t)}},{key:"onChangeAuthor",value:function(e){var t=Object(I.a)({},this.props,{author:e});this.props.onChangeValues(t)}},{key:"render",value:function(){var e=this,t=this.props.title||"",n=this.props.author||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter Title",defaultValue:t,required:!0,onChange:function(t){return e.onChangeTitle(t.target.value)}}),r.a.createElement("label",null,"Title")),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter Author",defaultValue:n,required:!0,onChange:function(t){return e.onChangeAuthor(t.target.value)}}),r.a.createElement("label",null,"Author")),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter Publisher",required:!0}),r.a.createElement("label",null,"Publisher")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter Paperback"}),r.a.createElement("label",null,"Paperback")),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter ISBN",required:!0}),r.a.createElement("label",null,"ISBN"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter Summary"}),r.a.createElement("label",null,"Summary")))}}]),t}(a.Component)),L=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Enter Genre",required:!0}),r.a.createElement("label",null,"Genre"))}}]),t}(a.Component),B=n(15),M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={selectedMenuItem:"General",form:{id:0,title:null,author:null},formError:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChangeMenuItem",value:function(e){this.setState({selectedMenuItem:e})}},{key:"updateForm",value:function(e){this.setState({form:Object(I.a)({},this.state.form,e)})}},{key:"onClose",value:function(){this.setState({formError:null}),this.props.closeModal()}},{key:"onSaveForm",value:function(){var e=Object(B.isNull)(this.props.form)?this.getNewBooksProps():this.getBookProps(this.props.form);e.title.length>0&&e.author.length>0?(this.props.closeAndSave(e),this.setState({formError:null})):this.setState({formError:"Fill in required fields"})}},{key:"getBookProps",value:function(e){var t=this.state.form;return Object(I.a)({},e,{title:Object(B.isNull)(t.title)?e.title:t.title,author:Object(B.isNull)(t.author)?e.author:t.author,date:new Date})}},{key:"getNewBooksProps",value:function(){var e=this.state.form;return{id:0,title:e.title||"",author:e.author||"",rating:0,date:new Date}}},{key:"render",value:function(){var e=this,t=this.props,n=t.form,a=t.isShow;return r.a.createElement(T.a,{isOpen:a,className:"modal",overlayClassName:"modal__overlay"},r.a.createElement("div",{className:"modal__header"},r.a.createElement("h2",null,"Add New Books"),r.a.createElement("button",{type:"button",className:"modal__close fa fa-times",onClick:function(){return e.onClose()}})),r.a.createElement("div",{className:"modal__body"},r.a.createElement("aside",null,r.a.createElement(D,{selected:this.state.selectedMenuItem,onChange:function(t){e.onChangeMenuItem(t)},items:[{icon:"fa-align-center",title:"General"},{icon:"fa-tags",title:"Genre"},{icon:"fa-file-image-o",title:"Poster"},{icon:"fa-info-circle",title:"Info"}],menuClass:"modal__body-menu"})),r.a.createElement("form",null,this.state.formError&&r.a.createElement("span",{className:"fa fa-exclamation-triangle form-error"},this.state.formError," "),function(){switch(e.state.selectedMenuItem){case"General":return r.a.createElement(F,Object.assign({},n,{onChangeValues:function(t){return e.updateForm(t)}}));case"Genre":return r.a.createElement(L,null);default:return r.a.createElement("div",null,"Tab is in developing")}}())),r.a.createElement("div",{className:"modal__footer"},r.a.createElement("button",{type:"button",className:"btn primary",onClick:function(){return e.onSaveForm()}},"Add book"),r.a.createElement("button",{type:"button",className:"btn secondary",onClick:function(){return e.onClose()}},"Cancel")))}}]),t}(a.Component),P=Object(h.b)(function(e){return e.modal},function(e){return{closeModal:function(){e({type:"CLOSE_MODAL"})},closeAndSave:function(t){e(function(e){return{type:"CLOSE_AND_SAVE",form:e}}(t)),e({type:"UPDATE_BOOKS"}),0===t.id&&(e({type:"OPEN_NOTIFY",bookTitle:t.title}),e({type:"UPDATE_HISTORY",book:t}))}}})(M),V=n(8),R=(n(17),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidebar__btn_block"},r.a.createElement("button",{className:"sidebar__btn",type:"button",onClick:function(){return e.props.onClick()}},r.a.createElement("i",{className:"fa fa-plus"}),"Add a book"))}}]),t}(a.Component)),x=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.historyList;return r.a.createElement("div",{className:"sidebar__history"},e.map(function(e,t){return r.a.createElement("div",{key:t,className:"sidebar__history_item"},r.a.createElement("i",{className:"fa fa-clock-o"}),r.a.createElement("div",null,r.a.createElement("p",null," You added ",r.a.createElement("a",{href:"/"},e.title)," by ",r.a.createElement("a",{href:"/"},e.author)," to your ",r.a.createElement("a",{href:"/"}," Must Read Titles"),"."),r.a.createElement("span",null,"24 minutes ago")))}))}}]),t}(a.Component),J=Object(h.b)(function(e){return{historyList:e.history.history}})(x),Y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).onClickAdd=n.onClickAdd.bind(Object(V.a)(Object(V.a)(n))),n.onChangeMenuItem=n.onChangeMenuItem.bind(Object(V.a)(Object(V.a)(n))),n.state={selectedMenuItem:"Browse"},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChangeMenuItem",value:function(e){this.setState({selectedMenuItem:e})}},{key:"onClickAdd",value:function(){this.props.dispatch(C(null))}},{key:"render",value:function(){var e=this;return r.a.createElement("aside",{className:"sidebar"},r.a.createElement(R,{onClick:this.onClickAdd.bind(this)}),r.a.createElement(D,{selected:this.state.selectedMenuItem,onChange:function(t){return e.onChangeMenuItem(t)},items:[{icon:"fa-book",title:"Now Reading"},{icon:"fa-globe",title:"Browse"},{icon:"fa-cart-arrow-down ",title:"Buy Books"},{icon:"fa-star",title:"Favorite Books"},{icon:"fa-list",title:"Wishlist"}],menuClass:"sidebar__menu"}),r.a.createElement(J,null))}}]),t}(a.Component),G=Object(h.b)()(Y),K=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClose",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isShow,a=t.bookTitle;return r.a.createElement(T.a,{isOpen:n,className:"modal",overlayClassName:"modal__overlay"},r.a.createElement("div",{className:"modal__notify"},"The book ",a," successfully added"),r.a.createElement("div",{className:"modal__footer"},r.a.createElement("button",{type:"button",className:"btn primary",onClick:function(){return e.onClose()}},"Close")))}}]),t}(a.Component),q=Object(h.b)(function(e){return e.notify},function(e){return{onClose:function(){e({type:"CLOSE_NOTIFY"})}}})(K),H=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(G,null),r.a.createElement("div",{className:"site"},r.a.createElement(E,null),r.a.createElement("main",null,r.a.createElement(S,null))),r.a.createElement(P,null),r.a.createElement(q,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(10),W=[{id:1,title:"Jewels of Nizam",author:"Geeta Devi",price:0,popular:!0,date:new Date(1995,11,17),rating:4},{id:2,title:"Cakes & Bakes",author:"Sanjeev Kapoor",price:1e3,popular:!0,date:new Date,rating:3},{id:3,title:"Jamie\u2019s Kitchen",author:"Jamie Oliver",price:792,popular:!1,date:new Date(2010,6,10),rating:0},{id:4,title:"Inexpensive Family Meals",author:"Simon Holst",price:0,popular:!0,date:new Date(2019,2,2),rating:5},{id:5,title:"Paleo Slow Cooking",author:"Chrissy Gower",price:400,popular:!1,date:new Date(2017,11,13),rating:1},{id:6,title:"Cook Like an Italian",author:"Tobie Puttock",price:300,popular:!1,date:new Date(2012,11,20),rating:0},{id:7,title:"Suneeta Vaswani",author:"Geeta Devi",price:1600,popular:!1,date:new Date(2e3,9,21),rating:0},{id:8,title:"Jamie Does",author:"Jamie Oliver",price:0,popular:!0,date:new Date,rating:4},{id:9,title:"Jamie\u2019s italy",author:"Jamie Oliver",price:0,popular:!0,date:new Date(2006,9,21),rating:4},{id:10,title:"Vegetables Cookbook",author:"Matthew Biggs",price:800,popular:!1,date:new Date(2016,5,11),rating:0}];function z(){return JSON.parse(localStorage.getItem("books"))||W}var $={filter:{section:"SHOW_ALL",input:""},books:z()},Q=function(e,t){switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},X=function(e,t){switch(t.type){case"UPDATE_BOOKS":return z();default:return e.books}};var Z={form:null,isShow:!1},ee=function(e,t){switch(t.type){case"OPEN_MODAL":return!0;case"CLOSE_MODAL":case"CLOSE_AND_SAVE":return!1;default:return e}},te=function(e){var t=e.type,n=e.form;switch(t){case"CLOSE_AND_SAVE":!function(e){var t=z();if(0===e.id){var n=Object(I.a)({},e,{id:t.length+1});t.push(n)}else{var a=t.findIndex(function(t){return t.id===e.id});-1!==a&&(t[a]=e)}var r=JSON.stringify(t);localStorage.setItem("books",r)}(n)}};var ne={bookTitle:null,isShow:!1},ae=function(e,t){switch(t.type){case"OPEN_NOTIFY":return!0;case"CLOSE_NOTIFY":return!1;default:return e}};var re={history:[]},oe=function(e,t){switch(t.type){case"UPDATE_HISTORY":return[].concat(Object(y.a)(e),[Object(I.a)({},t.book)]).slice(-5).reverse();default:return e}};var ie=Object(U.b)({booksApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return{filter:Q(e.filter,t),books:X(e,t)}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;return te(t),{form:t.form,isShow:ee(e.isShow,t)}},notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return{bookTitle:t.bookTitle,isShow:ae(e.isShow,t)}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return{history:oe(e.history,t)}}});T.a.setAppElement("#root"),function(){var e=JSON.stringify(W);localStorage.setItem("books",e)}();var le=Object(U.c)(ie);i.a.render(r.a.createElement(h.a,{store:le},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.4a618d58.chunk.js.map